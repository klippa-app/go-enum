// Code generated by go-enum, DO NOT EDIT.
package {{ $.Pkg }}

{{- $t := $.EnumName }}
{{- $lt := receiver $t }}
{{- $FromString := print (pascal ( $t )) "FromString"}}

import (
	"github.com/globalsign/mgo/bson"
)

func ({{ $lt }} {{ $t }}) GetBSON() (interface{}, error) {
	err := {{ $lt }}.Validate() 
	if err != nil {
		return nil, err
	}

	return {{ $lt }}.String(), nil
}

func ({{ $lt }} *{{ $t }}) SetBSON(raw bson.Raw) error {
	var str string
	
	err := raw.Unmarshal(&str)
	if err != nil {
		return err
	}

	enum, err := {{ $FromString }}(str)
	if err != nil {
		return err
	}

	*{{ $lt }} = *enum
	return nil
}
