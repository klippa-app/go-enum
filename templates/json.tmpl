// Code generated by go-enum, DO NOT EDIT.
package {{ $.Pkg }}

{{- $t := $.EnumName }}
{{- $lt := receiver $t }}
{{- $FromString := print (pascal  $t ) "FromString"}}

import (
	"strconv"
	"strings"
)

func ({{ $lt }} {{ $t }}) MarshalJSON() ([]byte, error) {
	err := {{ $lt }}.Validate() 
	if err != nil {
		return nil, err
	}

	return []byte(strconv.Quote({{ $lt }}.String())), nil
}

func ({{ $lt }} *{{ $t }}) UnmarshalJSON(val []byte) error {
	str := string(val)
	str = strings.Trim(str, "\"")

	enum, err := {{ $FromString }}(str)
	if err != nil {
		return err
	}

	*{{ $lt }} = *enum
	return nil
}
